<!DOCTYPE html>
<html lang="en">

<head>
    {{>header}}
    <link rel="stylesheet" href="css/search.css">

</head>

<body>
    {{>navbar}}
    <div class="content">
        <div class="search-bar">
            <div class="container mt-5">
                <div class="row my-5">
                    <div class="col-md-10 offset-md-1">
                        <form class="d-flex" id="searchForm">
                            <input class="form-control me-2" type="search" placeholder="Search" id="searchInput"
                                aria-label="Search" />
                            <button class="btn btn-outline-success" type="submit">Search</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="search-products">
            {{#each products}}
            {{>card this}}
            {{/each}}
        </div>
    </div>
    <h3 style="text-align: center; "><a style="text-decoration: none; color:black" href="/products">All Products <i
                class="fa-solid fa-arrow-right"></i></a></h3>
    <footer class="footer">
        {{>footer}}
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

    <script>
        const searchTerm = document.getElementById('searchInput').value;
        const await = fetch(`/search?query=${encodeURIComponent(searchTerm)}`)
            .then(response => response.text())
            .then(data => {
                console.log(data);
            })
            .catch(error => console.error('Error:', error));
    </script>
</body>

</html>